(this.webpackJsonpsnakegame=this.webpackJsonpsnakegame||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),i=n(6),a=n.n(i),r=(n(11),n(2)),d=n(3),s=n(4);var l=function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},u=function e(t,n){Object(s.a)(this,e),this.row=t,this.col=n,this.id="".concat(t,"-").concat(n),this.state="node"},j=n(0),f=function(){return Object(j.jsx)("div",{id:"pop-up",className:"pop-up",children:"GAMEOVER. PRESS RESET TO PLAY AGAIN."})},b=function(e){var t=e.resetHandler,n=e.playGame,o=e.speedHandler;return Object(j.jsx)("header",{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("button",{className:"logo",children:" Snake-game "}),Object(j.jsx)("button",{className:"play animate",id:"playButton",onClick:n,children:"PLAY"}),Object(j.jsxs)("button",{className:"headerButton",id:"header-selector",children:[" SPEED",Object(j.jsx)("div",{className:"header-dropdown",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{onClick:function(){return o("easy")},children:"EASY"}),Object(j.jsx)("div",{onClick:function(){return o("normal")},children:"NORMAL"}),Object(j.jsx)("div",{onClick:function(){return o("hard")},children:"HARD"})]})})]}),Object(j.jsx)("button",{id:"resetButton",onClick:t,children:" RESET "})]})})},v=function(e){var t=e.score;return Object(j.jsx)("div",{className:"legend",id:"legend",children:Object(j.jsxs)("div",{children:["SCORE: ",t]})})},O=function(e){var t=e.state,n=e.row,o=e.col,c=e.id;return Object(j.jsx)("div",{className:t,row:n,col:o,id:c})},m=function(e){var t=e.grid;return Object(j.jsx)("div",{className:"playArea",children:Object(j.jsx)("div",{className:"node_container",children:t.map((function(e,t){return Object(j.jsx)("div",{className:"node_row",children:e.map((function(e,n){return Object(j.jsx)(O,{state:e.state,row:t,col:n,id:"".concat(t,"-").concat(n)},n)}))},t)}))})})},y=function e(t,n,o){Object(s.a)(this,e),this.row=t,this.col=n,this.nextBody=o};var h=function(){var e=Object(o.useState)({row:4,col:3,directionHead:"e",nextBody:new y(4,5,void 0),tail:void 0}),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(o.useState)({grid:G(),isStarted:!1}),a=Object(d.a)(i,2),s=a[0],O=a[1],h=Object(o.useState)(!1),p=Object(d.a)(h,2),w=p[0],x=p[1],B=Object(o.useState)("e"),g=Object(d.a)(B,2),S=g[0],E=g[1],k=Object(o.useState)(0),H=Object(d.a)(k,2),I=H[0],N=H[1],A=Object(o.useState)(300),L=Object(d.a)(A,2),C=L[0],R=L[1];function M(e){e?(x(!1),document.getElementById("pop-up").style.display="inline-block",document.getElementById("pop-up").innerHTML="CONGRATULATIONS !!"):(x(!1),document.getElementById("resetButton").classList.add("animate"),document.getElementById("pop-up").style.display="inline-block")}function T(e,t){for(var o=n.nextBody;o;){if(o.row===e&&o.col===t)return!1;o=o.nextBody}return!0}function F(e,t){for(var o=n.nextBody,c=n;void 0!==o;){var i=new y(o.row,o.col,o.nextBody);o.col=c.col,o.row=c.row,c=i,void 0===o.nextBody&&(n.tail=o),o=o.nextBody}!function(e,t){var o=s.grid.slice();"node-isFood"===o[e][t].state&&function(){var e=I;N(e+=1);var t=n;for(;void 0!==t;){if(void 0===t.nextBody){t.nextBody=new y(t.row,t.col,void 0);break}t=t.nextBody}P()}();o[e][t].state="node-isSnake";var c=n.nextBody;for(;void 0!==c;)o[c.row][c.col].state="node-isSnakeBody",c=c.nextBody;O(Object(r.a)(Object(r.a)({},s),{},{grid:o}))}(e,t)}function P(e){if(void 0===e){e=new Set;for(var t=n;t;)e.add("".concat(t.row," ").concat(t.col)),t=t.nextBody}79===e.size&&M("win");var o=s.grid.slice(),c=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());e.has("".concat(i," ").concat(c))?(console.log("yes"),P()):(o[i][c].state="node-isFood",O(Object(r.a)(Object(r.a)({},s),{},{grid:o})))}function G(){for(var e=[],t=0;t<10;t++){e.push([]);for(var n=0;n<10;n++)e[t].push(new u(t,n)),4===t&&3===n&&(e[t][n].state="node-isSnake"),4===t&&6===n&&(e[t][n].state="node-isFood")}return e}return Object(o.useEffect)((function(){window.addEventListener("keypress",(function(e){e.stopImmediatePropagation(),function(e){if("w"===e.key)E("n");else if("d"===e.key)E("e");else if("s"===e.key)E("s");else{if("a"!==e.key)return;E("w")}}(e)}))})),l((function(){!function(){var e=s.grid.slice();e[n.row][n.col].state="node";var t=n.nextBody;for(;void 0!==t;)e[t.row][t.col].state="node",t=t.nextBody;O(Object(r.a)(Object(r.a)({},s),{},{grid:e}))}(),"n"===n.directionHead&&"s"===S||"s"===n.directionHead&&"n"===S||"e"===n.directionHead&&"w"===S||"w"===n.directionHead&&"e"===S?function(){var e=n.col,t=n.row,o="";if("e"===n.directionHead){var i=n.col+1;i<10?(e=i,o="e"):M()}else if("s"===n.directionHead){var a=n.row+1;a<10?(t=a,o="s"):M()}else if("w"===n.directionHead){var d=n.col-1;d>=0?(e=d,o="w"):M()}else if("n"===n.directionHead){var s=n.row-1;s>=0?(t=s,o="n"):M()}!1===T(t,e)&&M(),c(Object(r.a)(Object(r.a)({},n),{},{col:e,row:t,directionHead:o})),F(t,e)}():function(){var e=n.col,t=n.row,o="";if("e"===S){var i=n.col+1;i<10?(e=i,o="e"):M()}else if("s"===S){var a=n.row+1;a<10?(t=a,o="s"):M()}else if("w"===S){var d=n.col-1;d>=0?(e=d,o="w"):M()}else if("n"===S){var s=n.row-1;s>=0?(t=s,o="n"):M()}!1===T(t,e)&&M(),c(Object(r.a)(Object(r.a)({},n),{},{col:e,row:t,directionHead:o})),F(t,e)}()}),w?C:null),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{}),Object(j.jsx)(b,{resetHandler:function(){document.getElementById("pop-up").style.display="none",document.getElementById("resetButton").classList.remove("animate"),document.getElementById("playButton").classList.add("animate"),x(!1),E("e"),N(0),c({row:4,col:3,directionHead:"e",nextBody:new y(4,5,void 0),tail:void 0}),O({grid:G(),isStarted:!1})},playGame:function(){document.getElementById("playButton").classList.remove("animate"),!0!==s.isStarted&&(x(!0),O(Object(r.a)(Object(r.a)({},s),{},{isStarted:!0})))},speedHandler:function(e){R("easy"===e?450:"normal"===e?300:200)}}),Object(j.jsx)(v,{score:I}),Object(j.jsx)(m,{grid:s.grid})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),p()}},[[13,1,2]]]);
//# sourceMappingURL=main.47da06ae.chunk.js.map